<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rename cluster names — RenameSeuratIdents • biopipen.utils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rename cluster names — RenameSeuratIdents"><meta name="description" content="Rename cluster names"><meta property="og:description" content="Rename cluster names"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">biopipen.utils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pwwang/biopipen.utils.R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rename cluster names</h1>
      <small class="dont-index">Source: <a href="https://github.com/pwwang/biopipen.utils.R/blob/master/R/scrna-macros.R" class="external-link"><code>R/scrna-macros.R</code></a></small>
      <div class="d-none name"><code>RenameSeuratIdents.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Rename cluster names</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">RenameSeuratIdents</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  ident <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_as <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  merge <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  backup <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Seurat object</p></dd>


<dt id="arg-ident">ident<a class="anchor" aria-label="anchor" href="#arg-ident"></a></dt>
<dd><p>Column name in <code>@meta.data</code> to rename
Defaults to the identity column (from <code><a href="GetIdentityColumn.html">GetIdentityColumn()</a></code>)
When <code>ident</code> is not identical as the column identified by <code><a href="GetIdentityColumn.html">GetIdentityColumn()</a></code>,</p></dd>


<dt id="arg-save-as">save_as<a class="anchor" aria-label="anchor" href="#arg-save-as"></a></dt>
<dd><p>If not NULL, save the renamed clusters to this new column.
If NULL, will overwrite the original <code>ident</code> column.</p></dd>


<dt id="arg-merge">merge<a class="anchor" aria-label="anchor" href="#arg-merge"></a></dt>
<dd><p>Whether to merge the clusters with the same new name.
Default is FALSE. Otherwise, the clusters with the same new name will be suffixed
with ".1", ".2", etc. to make them unique.</p></dd>


<dt id="arg-backup">backup<a class="anchor" aria-label="anchor" href="#arg-backup"></a></dt>
<dd><p>If not NULL, the original <code>ident</code> column will be backed up
to this new column before renaming.
Default is NULL, which means no backup will be made.
Note that if the column name already exists, it will be overwritten.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments.
If named arguments are provided, they will be used as the mapping from old cluster names to new cluster names.</p><ul><li><p>If a named argument's name does not exist in the original cluster names, it will be ignored.</p></li>
<li><p>If a original cluster name does not have a corresponding named argument, it will be kept unchanged.</p></li>
<li><p>If you want to exclude some clusters, you can set their new names to <code>NA</code>.
If unnamed arguments are provided, it must be a single list of mappings.
with the names being the original cluster names, and the values being the new cluster names.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The Seurat object with renamed clusters</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function provides a convenient way to rename clusters in a Seurat object.
You can provide the mapping of old cluster names to new cluster names either
as named arguments or as a single list.
Unlike <code><a href="https://satijalab.org/seurat/reference/reexports.html" class="external-link">Seurat::RenameIdents()</a></code>, this function also renames the cluster names in the metadata column,
so that the changes are persistent. If <code>save_as</code> is provided, the renamed clusters will be saved
to a new column, otherwise the original column will be overwritten.
In addition, the order of the clusters will be preserved based on the order of the original cluster names.
For the default identities (<code>Idents(object)</code>), it is only changed when <code>ident</code> is NULL or identical
to the identity column (<code>GetIdentityColumn(object)</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">object</span> <span class="op">&lt;-</span> <span class="fu">scplotter</span><span class="fu">::</span><span class="va"><a href="https://pwwang.github.io/scplotter/reference/pancreas_sub.html" class="external-link">pancreas_sub</a></span></span></span>
<span class="r-in"><span><span class="fu"><a href="GetIdentityColumn.html">GetIdentityColumn</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "seurat_clusters"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">seurat_clusters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   2   3   4   5   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 186 180 157 157 126 100  94 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Rename using Seurat::RenameIdents</span></span></span>
<span class="r-in"><span><span class="va">object1</span> <span class="op">&lt;-</span> <span class="fu">Seurat</span><span class="fu">::</span><span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/Idents.html" class="external-link">RenameIdents</a></span><span class="op">(</span><span class="va">object</span>, `2` <span class="op">=</span> <span class="st">'Alpha'</span>, `1` <span class="op">=</span> <span class="st">'Beta'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The order of identities is changed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu">SeuratObject</span><span class="fu">::</span><span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/Idents.html" class="external-link">Idents</a></span><span class="op">(</span><span class="va">object1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Alpha  Beta     0     3     4     5     6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   157   180   186   157   126   100    94 </span>
<span class="r-in"><span><span class="co"># The identity column is not changed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">seurat_clusters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   2   3   4   5   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 186 180 157 157 126 100  94 </span>
<span class="r-in"><span><span class="co"># Since the inconsistency, GetIdentityColumn can't determine the identity column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="GetIdentityColumn.html">GetIdentityColumn</a></span><span class="op">(</span><span class="va">object1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Rename using RenameSeuratIdents</span></span></span>
<span class="r-in"><span><span class="va">object1</span> <span class="op">&lt;-</span> <span class="fu">RenameSeuratIdents</span><span class="op">(</span><span class="va">object</span>, `2` <span class="op">=</span> <span class="st">'Alpha'</span>, `1` <span class="op">=</span> <span class="st">'Beta'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The order of identities is preserved</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu">SeuratObject</span><span class="fu">::</span><span class="fu"><a href="https://satijalab.github.io/seurat-object/reference/Idents.html" class="external-link">Idents</a></span><span class="op">(</span><span class="va">object1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0  Beta Alpha     3     4     5     6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   186   180   157   157   126   100    94 </span>
<span class="r-in"><span><span class="co"># The identity column is also changed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">seurat_clusters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0  Beta Alpha     3     4     5     6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   186   180   157   157   126   100    94 </span>
<span class="r-in"><span><span class="co"># Since the consistency, GetIdentityColumn can still determine the identity column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="GetIdentityColumn.html">GetIdentityColumn</a></span><span class="op">(</span><span class="va">object1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "seurat_clusters"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Rename a non-identity column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Ductal   Ngn3 low EP  Ngn3 high EP Pre-endocrine     Endocrine </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           239            81           168           150           362 </span>
<span class="r-in"><span><span class="va">object1</span> <span class="op">&lt;-</span> <span class="fu">RenameSeuratIdents</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">object</span>, Ductal <span class="op">=</span> <span class="st">'C1'</span>, `Endocrine` <span class="op">=</span> <span class="st">'C1'</span>, ident <span class="op">=</span> <span class="st">'CellType'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          C1.1   Ngn3 low EP  Ngn3 high EP Pre-endocrine          C1.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           239            81           168           150           362 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">seurat_clusters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0   1   2   3   4   5   6 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 186 180 157 157 126 100  94 </span>
<span class="r-in"><span><span class="co"># Identity column is not changed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="GetIdentityColumn.html">GetIdentityColumn</a></span><span class="op">(</span><span class="va">object1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "seurat_clusters"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Merge clusters with the same new name</span></span></span>
<span class="r-in"><span><span class="va">object1</span> <span class="op">&lt;-</span> <span class="fu">RenameSeuratIdents</span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="va">object</span>, Ductal <span class="op">=</span> <span class="st">'C1'</span>, `Endocrine` <span class="op">=</span> <span class="st">'C1'</span>, ident <span class="op">=</span> <span class="st">'CellType'</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            C1   Ngn3 low EP  Ngn3 high EP Pre-endocrine </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           601            81           168           150 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Exclude some clusters by setting their new names to NA</span></span></span>
<span class="r-in"><span><span class="va">object1</span> <span class="op">&lt;-</span> <span class="fu">RenameSeuratIdents</span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="va">object</span>, Ductal <span class="op">=</span> <span class="st">'C1'</span>, `Endocrine` <span class="op">=</span> <span class="cn">NA</span>, ident <span class="op">=</span> <span class="st">'CellType'</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>[RenameSeuratIdents] The following clusters will be excluded: Endocrine</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">object1</span><span class="op">$</span><span class="va">CellType</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            C1   Ngn3 low EP  Ngn3 high EP Pre-endocrine </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           239            81           168           150 </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Panwen Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

